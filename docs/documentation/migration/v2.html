<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Migrating from Version 1.x to 2.0 </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Migrating from Version 1.x to 2.0 ">
      
      <link rel="icon" href="../../favicon.ico">
      <link rel="stylesheet" href="../../public/docfx.min.css">
      <link rel="stylesheet" href="../../public/main.css">
      <meta name="docfx:navrel" content="../../toc.html">
      <meta name="docfx:tocrel" content="../toc.html">
      
      
      
      
      <meta name="docfx:docurl" content="https://github.com/auth0/auth0-oidc-client-net/blob/master/docs-source/documentation/migration/v2.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
  </head>

  <script type="module">
    import options from './../../public/main.js'
    import { init } from './../../public/docfx.min.js'
    init(options)
  </script>

  <script>
    const theme = localStorage.getItem('theme') || 'auto'
    document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
  </script>


  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../index.html">
            <img id="logo" class="svg" src="../../images/logo.png" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="migrating-from-version-1x-to-20">Migrating from Version 1.x to 2.0</h1>

<p>Version 2.0 of the Auth0 OIDC Client has introduced significant changes for iOS and Android applications to add support for Xamarin Forms. To achieve this, references platform-specific constructs, such as <code>UIViewController</code> (iOS) and <code>Activity</code> (Android), has been removed. This also means that the way you integrate the Auth0 OIDC Client into your application has changed.</p>
<p>If you have previously used version 1.x of this library in your iOS and Android application, then please refer to the sections below for the changes you need to make to your applications.</p>
<h2 id="migrating-ios-applications">Migrating iOS applications</h2>
<p>For iOS applications, in Version 1.x, you had to pass an instance of <code>UIViewController</code> to <code>Auth0ClientOptions</code>:</p>
<pre><code class="lang-csharp">_client = new Auth0Client(new Auth0ClientOptions
{
    Domain = &quot;YOUR DOMAIN&quot;,
    ClientId = &quot;YOUR CLIENT ID&quot;,
    Controller = this
});
</code></pre>
<p>In Version 2.0, this is not required anymore as we automatically detect the controller initiating the authentication flow. Removing this dependency also allow developers to more easily use the Auth0 OIDC Client in Xamarin Forms applications.</p>
<p>Update the instantiation of <code>Auth0ClientOptions</code> to remove the assignment of the <code>Controller</code> property, which has been removed:</p>
<pre><code class="lang-cs">_client = new Auth0Client(new Auth0ClientOptions
{
    Domain = &quot;YOUR DOMAIN&quot;,
    ClientId = &quot;YOUR CLIENT ID&quot;
});
</code></pre>
<h2 id="migrating-android-applications">Migrating Android applications</h2>
<p>For Android applications, in Version 1.x, you had to pass an instance of the current <code>Activity</code> to <code>Auth0ClientOptions</code>:</p>
<pre><code class="lang-csharp">_client = new Auth0Client(new Auth0ClientOptions
{
    Domain = &quot;YOUR DOMAIN&quot;,
    ClientId = &quot;YOUR CLIENT ID&quot;,
    Activity = this
});
</code></pre>
<p>This was required because the Auth0 OIDC Client called <a href="https://developer.xamarin.com/api/member/Android.Content.Context.StartActivity/p/Android.Content.Intent/">StartActivity</a> on the current <code>Activity</code> to launch the web browser. With Version 2.0, we are now using the static <code>Application.Context</code> property to launch the browser activity, so there is no requirement to pass this to <code>Auth0ClientOptions</code> anymore. Removing this dependency also allow developers to more easily use the Auth0 OIDC Client in Xamarin Forms applications.</p>
<p>Update the instantiation of <code>Auth0ClientOptions</code> to remove the assignment of the <code>Activity</code> property, which has been removed:</p>
<pre><code class="lang-cs">_client = new Auth0Client(new Auth0ClientOptions
{
    Domain = &quot;YOUR DOMAIN&quot;,
    ClientId = &quot;YOUR CLIENT ID&quot;
});
</code></pre>
</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/auth0/auth0-oidc-client-net/blob/master/docs-source/documentation/migration/v2.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>
        
      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>


    <footer class="border-top">
      <div class="container-xxl">
        <div class="flex-fill">
          Copyright 2017-2023, Auth0 Inc.
        </div>
      </div>
    </footer>
  </body>
</html>